<div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
    <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
    <input #gb type="text" pInputText size="20" placeholder="Bus No.">
</div>
<p-dataTable [value]="data" [responsive]="true" class="table" [globalFilter]="gb">
    <p-column field="vname" header="Bus No." [sortable]="true">
       <ng-template let-col let-data="rowData" pTemplate="body">
           <a [routerLink]="['/vehicle', data[col.field]]">{{data[col.field]}}</a>
        </ng-template>
    </p-column>
    <p-column field="soc" header="SOC" [sortable]="true">
        <ng-template let-col let-data="rowData" pTemplate="body">
            <p-progressBar [value]="data[col.field] | number:'1.0-1'"></p-progressBar>
        </ng-template>
    </p-column>
    <p-column field="status" header="Status" [sortable]="true"></p-column>
    <p-column field="range" header="Range" [sortable]="true">
        <ng-template let-col let-data="rowData" pTemplate="body">
            {{data[col.field] | number:'1.1-1'}}
        </ng-template>
    </p-column>
    <p-column field="mileage" header="Odometer" [sortable]="true">
      <ng-template let-col let-data="rowData" pTemplate="body">
            {{data[col.field] | number:'1.1-1'}}
      </ng-template>
    </p-column>
    <p-column field="updated" header="Updated">
      <ng-template let-col let-data="rowData" pTemplate="body">
            {{data[col.field] | date:'HH:mm:ss'}}
        </ng-template>
    </p-column>
    <p-column header="Action">
        <ng-template let-row="rowData" pTemplate="body">
            <button title="SMS Request" type="button" 
              class="btn btn-primary btn-sm" 
                data-toggle="modal" data-target="#requestModal">
                Request
            </button>
        </ng-template>
    </p-column>
</p-dataTable>

<div class="modal fade" id="requestModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Info</h5>
        <button type="button" class="close" data-dismiss="modal">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Request is sent successfully.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>